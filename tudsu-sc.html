<!DOCTYPE html>
<html>
<head>
    <title>TU Dublin Student Council Meeting Dashboard</title>
<style type="text/css">
    html, body{
        height: 100%;
        font-family: 'Nunito Sans', sans-serif!important;
        background: #333;
    }
    body {
        margin: 0px;
        background: #EC008C;
    }
    .top {
        height: 80%
    }
    .bottom {
        width: 100%;
        height: 300px;
        background: #00286E;
        color: #EEE;
    }
    .sidebar {
        float: left;
        width: 20%;
        height: 100%;
        background: #EC008C;

        align-content: center;
        text-align: center;
    }
    .presentation {
        background: #333;
        float: right;
        width: 80%;
        height:100%;
    }
    .sidebar img {
          display: block;
          margin-left: auto;
          margin-right: auto;
          margin-top: 50px;
    }

    .speaker {
        height: 100%;
        width: 20%;
        float: left;
        display: block;
    }

    .timer {
        height: 100%;

        float: right;
        display: block;
    }

    .bottom::after {
        content: "";
        clear: both;
        display: table;
    }

    #video, #pres {
        width: 100%;
        height: 100%;
    }
    #start, #stop, #slides{
        width: 15px;
        float: left;
        display: block;
    }
    .controls {
        float: left;
        fill: #FFF
    }

    .controls svg {
        margin-left: 5px;
        margin-right: 5px;
        display: block;
    }

    .timer {
        float: right;
        width: 600px;
        height: 200px;
    }

    .timer iframe {
      border: none;
      width: 100%;
      height: 100%;
    }

</style>
</head>
<body>
<div class="top">
    <div class="sidebar">
        <img src="https://tudublinsu.ie/sites/default/files/tudsu-logo.svg">
        <h1>TU Dublin Students Union</h1>
        <h2 contenteditable="true">Student Council</h2>
        <h3 contenteditable="true">5 May 2021</h3>
    </div>
    <div class="presentation">
        <video id="pres" autoplay>
        </video>

    </div>
</div>
<div class="bottom">
    <div class="speaker">
        <video id="video" autoplay></video>
    </div>
    <div class="controls">
        <svg id="start" xmlns="http://www.w3.org/2000/svg" id="Layer_1" x="0" y="0" version="1.1" viewBox="0 0 29 29" xml:space="preserve">
            <path d="M25 25.25H4c-1.654 0-3-1.346-3-3v-12c0-1.654 1.346-3 3-3h3.279l.316-.949a2.997 2.997 0 0 1 2.846-2.051h8.117c1.293 0 2.437.824 2.846 2.051l.316.949H25c1.654 0 3 1.346 3 3v12c0 1.654-1.346 3-3 3zm-21-16a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h21a1 1 0 0 0 1-1v-12a1 1 0 0 0-1-1h-3.279c-.862 0-1.625-.55-1.897-1.368l-.315-.948a1.001 1.001 0 0 0-.949-.684h-8.117a.998.998 0 0 0-.949.684l-.318.949A1.996 1.996 0 0 1 7.279 9.25H4z"/><path d="M14.5 22.25c-3.032 0-5.5-2.468-5.5-5.5s2.468-5.5 5.5-5.5 5.5 2.468 5.5 5.5-2.468 5.5-5.5 5.5zm0-9c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5z"/><circle cx="20.5" cy="11.25" r="1"/><path d="M5.5 4.75H4a.5.5 0 0 0 0 1h1.5a.5.5 0 0 0 0-1z"/><path d="M5.5 6.25H4a1 1 0 0 1 0-2h1.5a1 1 0 0 1 0 2zm-1.5-1h1.5H4z"/>
        </svg>
        <svg id="slides" xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 384 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM136 240l68 0c42 0 76 34 76 76s-34 76-76 76l-44 0 0 32c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-56 0-104c0-13.3 10.7-24 24-24zm68 104c15.5 0 28-12.5 28-28s-12.5-28-28-28l-44 0 0 56 44 0z"/></svg>
        <svg id="stop" xmlns="http://www.w3.org/2000/svg" id="Layer_1" x="0" y="0" version="1.1" viewBox="0 0 29 29" xml:space="preserve">
            <path d="M14.637 27.065a12.457 12.457 0 0 1-8.838-3.655c-4.874-4.874-4.874-12.804 0-17.678a12.419 12.419 0 0 1 8.839-3.662c3.339 0 6.478 1.3 8.838 3.662 2.361 2.361 3.662 5.5 3.662 8.839s-1.3 6.478-3.662 8.839a12.46 12.46 0 0 1-8.839 3.655zm.001-22.995a10.428 10.428 0 0 0-7.425 3.076c-1.983 1.983-3.075 4.62-3.075 7.425s1.092 5.441 3.075 7.425c4.094 4.094 10.756 4.095 14.849 0 1.983-1.983 3.076-4.62 3.076-7.425s-1.092-5.441-3.076-7.425a10.432 10.432 0 0 0-7.424-3.076z"/><path d="M10.395 19.813a.999.999 0 0 1-.707-1.707l8.485-8.485a.999.999 0 1 1 1.414 1.414l-8.485 8.485a.993.993 0 0 1-.707.293z"/><path d="M18.88 19.813a.997.997 0 0 1-.707-.293l-8.485-8.485a.999.999 0 1 1 1.414-1.414l8.485 8.485a.999.999 0 0 1-.707 1.707z"/>
        </svg>
    </div>
    <div class="timer">
      <iframe src="https://stagetimer.io/r/PM32CJGL/" width="600px" height="300px"></iframe>
    </div>

</div>

<script>
const videoElem = document.getElementById("video");
const presElem = document.getElementById("pres");
const startElem = document.getElementById("start");
const stopElem = document.getElementById("stop");
const slidesElem = document.getElementById("slides");
// Options for getDisplayMedia()

var displayMediaOptions = {
  video: {
    cursor: "never"
  },
  audio: false
};

// Set event listeners for the start and stop buttons
startElem.addEventListener("click", function(evt) {
  startCaptureVideo();
}, false);

slidesElem.addEventListener("click", function(evt) {
  startCaptureSlides();
}, false);

stopElem.addEventListener("click", function(evt) {
  stopCapture();
}, false);

async function startCaptureVideo() {
  try {
    videoElem.srcObject = await navigator.mediaDevices.getDisplayMedia(displayMediaOptions);
    dumpOptionsInfo();
  } catch(err) {
    console.error("Error: " + err);
  }
}

async function startCaptureSlides() {
  try {
    presElem.srcObject = await navigator.mediaDevices.getDisplayMedia(displayMediaOptions);
  } catch(err) {
    console.error("Error: " + err);
  }
}
function stopCapture(evt) {
  let tracks = videoElem.srcObject.getTracks();
  tracks.forEach(track => track.stop());
  videoElem.srcObject = null;
  let slidesTracks = presElem.srcObject.getTracks();
  slidesTracks.forEach(track => track.stop());
  presElem.srcObject = null;
}
function dumpOptionsInfo() {
  const videoTrack = videoElem.srcObject.getVideoTracks()[0];

  console.info("Track settings:");
  console.info(JSON.stringify(videoTrack.getSettings(), null, 2));
  console.info("Track constraints:");
  console.info(JSON.stringify(videoTrack.getConstraints(), null, 2));
}

</script>

</body>
</html>